function CVDataLib(){var a=this;this.IsString=function(b){return("string"===typeof(b))};this.IsArray=function(b){return("array"===typeof(b))};this.IsNumeric=function(b){return !a.IsArray(b)&&(b-parseFloat(b)+1)>=0};this.IsFunction=function(b){return("function"===typeof(b))};this.IsObject=function(b){return("object"===typeof(b))}}function CVDataCore(){var d=this;var b=new CVDataLib();this.Get=function(e,f){if(!d.IsValidParam(e)){return false}e.method="GET";return d.Http(e,f)};this.Post=function(e,f){if(!d.IsValidParam(e)){return VDATA.ERROR.PARAMETER}e.method="POST";return d.Http(e,f)};this.Put=function(e,f){if(!d.IsValidParam(e)){return VDATA.ERROR.PARAMETER}e.method="PUT";return d.Http(e,f)};this.Delete=function(e,f){if(!d.IsValidParam(e)){return VDATA.ERROR.PARAMETER}e.method="DELETE";return d.Http(e,f)};this.Http=function(h,q){var p;var k;var m;var f;var e;var n;var l;var j;var o;var g;if(!d.IsValidParam(h,true)){return b.IsFunction(q)?VDATA.ERROR.PARAMETER:jQuery.Deferred().promise()}p=VDATA.ERROR.UNKNOWN;k=jQuery.Deferred();m=d.GetSafeMethod(c(h,"method",VDATA.CONST.DEFAULT_METHOD));f=c(h,"url","");e=c(h,"data",{});n=d.GetSafeTimeout(c(h,"timeout",VDATA.CONST.DEFAULT_TIMEOUT));l=d.GetSafeVersion(c(h,"version",VDATA.CONST.DEFAULT_VERSION));j=Boolean(c(h,"async",true));e=(b.IsObject(e)?e:{});o={Accept:(VDATA.CONST.HTTP_HEADER_VERSION_ACCEPT+l)};g=d.GetDefaultVDataObject();try{$.ajax({method:m,url:f,data:e,headers:o,dataTpe:"json",cache:false,async:j,timeout:n,xhrFields:{withCredentials:true},beforeSend:function(r,s){},success:function(t,r,s){if(d.IsValidVData(t)){g=t}else{g.errorid=VDATA.ERROR.JSON;g.errordesc=b.IsString(r)?r:""}if(b.IsFunction(q)){q(g)}else{k.resolve(g)}},error:function(s,t,r){g.errorid=VDATA.ERROR.NETWORK;g.errordesc=("status: "+t+", errorThrown :"+r);if(b.IsFunction(q)){q(g)}else{k.reject(g)}}});p=VDATA.ERROR.SUCCESS}catch(i){p=VDATA.ERROR.EXCEPTION;g.errorid=VDATA.ERROR.EXCEPTION;g.errordesc=i.message;if(b.IsFunction(q)){q(g)}else{k.reject(g)}}return b.IsFunction(q)?p:k.promise()};this.IsValidVData=function(e){return(e&&b.IsObject(e)&&e.hasOwnProperty("errorid")&&e.hasOwnProperty("errordesc")&&e.hasOwnProperty("vdata")&&b.IsNumeric(e.errorid)&&b.IsString(e.errordesc)&&($.isArray(e.vdata)||b.IsObject(e.vdata))&&(e.hasOwnProperty("json")?(b.IsObject(e.json)||$.isArray(e.json)):true))};this.GetDefaultVDataObject=function(){return{errorid:VDATA.ERROR.UNKNOWN,errordesc:"",vdata:{},version:VDATA.CONST.DEFAULT_VERSION,json:{}}};this.IsValidParam=function(g,f){var e;e=false;if(g&&b.IsObject(g)&&g.hasOwnProperty("url")&&b.IsString(g.url)&&g.url.length>0){if(f){if(g.hasOwnProperty("method")&&b.IsString(g.method)){e=true}}else{e=true}}return e};this.IsSupportedMethod=function(e){if(!b.IsString(e)||0==e.length){return false}e=$.trim(e).toUpperCase();return(VDATA.CONST.HTTP_SUPPORTED_METHODS.hasOwnProperty(e)&&VDATA.CONST.HTTP_SUPPORTED_METHODS[e])};this.GetSafeMethod=function(e){if(!b.IsString(e)||0==e.length){return VDATA.CONST.DEFAULT_METHOD}var f;e=$.trim(e).toUpperCase();if(d.IsSupportedMethod(e)){f=e}else{f=VDATA.CONST.DEFAULT_METHOD}return f};this.GetSafeVersion=function(f){if(!b.IsString(f)||0==f.length){return VDATA.CONST.DEFAULT_VERSION}var e;f=$.trim(f);if(b.IsString(f)&&f.length>0){e=f}else{e=VDATA.CONST.DEFAULT_VERSION}return e};this.GetSafeTimeout=function(e){return(b.IsNumeric(e)&&e>0)?parseInt(e):VDATA.CONST.DEFAULT_TIMEOUT};function a(){}function c(h,f,e){var g;if(!b.IsObject(h)||!b.IsString(f)){return e}g=e;if(h.hasOwnProperty(f)){g=h[f]}return g}a()}var window=window||{};var VDATA=window.VDATA||(window.VDATA=new CVDataCore());VDATA.ERROR={SUCCESS:0,USER_START:10000,USER_END:99999,UNKNOWN:-100000,ACCESS_DENIED:-100001,PARAMETER:-100002,PERMISSION:-100003,EXPIRED:-100004,NOT_LOGGEDIN:-100005,FAILED_LOGGEDIN:-100006,CREATE_INSTANCE:-100010,EXCEPTION:-100011,DB_SELECT:-100050,DB_UPDATE:-100051,DB_INSERT:-100052,DB_DELETE:-100053,DB_DROP:-100054,DB_TRANSACTION:-100060,DB_TABLE_NAME:-100065,REQUEST_VIA_IP:-100100,NETWORK:-100300,JSON:-100301,JSON_ERRORID:-100302,JSON_ERRORDESC:-100303,JSON_VDATA:-100304};VDATA.CONST={HTTP_HEADER_VERSION_ACCEPT:"application/vdata+json+version:",HTTP_SUPPORTED_METHODS:{GET:true,POST:true,DELETE:true,PUT:true},DEFAULT_VERSION:"1.0",DEFAULT_METHOD:"GET",DEFAULT_TIMEOUT:5*1000};if("object"===typeof module&&"object"===typeof module.exports){module.exports.VDATA=VDATA};